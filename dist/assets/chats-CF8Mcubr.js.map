{"version":3,"file":"chats-CF8Mcubr.js","sources":["../../src/api/chats.ts"],"sourcesContent":["import { API_BASE } from \"../config\";\r\n\r\nexport interface ChatSession {\r\n  id: number;\r\n  title?: string;\r\n  startedAt: string;\r\n  endedAt: string | null;\r\n  messages: Array<{ role: \"USER\" | \"ASSISTANT\"; content: string }>;\r\n}\r\n\r\nexport async function fetchChatSessions(): Promise<ChatSession[]> {\r\n  const res = await fetch(`${API_BASE}/api/chats`, {\r\n    method: \"GET\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n  });\r\n  if (!res.ok) {\r\n    const body = await res.json().catch(() => ({}));\r\n    throw new Error(body.error || \"Failed to fetch chat sessions\");\r\n  }\r\n  return res.json();\r\n}\r\n\r\nexport async function fetchChatSession(\r\n  id: number\r\n): Promise<ChatSession> {\r\n  const res = await fetch(`${API_BASE}/api/chats/${id}`, {\r\n    method: \"GET\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n  });\r\n  if (!res.ok) {\r\n    const body = await res.json().catch(() => ({}));\r\n    throw new Error(body.error || \"Failed to fetch chat session\");\r\n  }\r\n  return res.json();\r\n}\r\n\r\nexport async function endChatSession(sessionId: number): Promise<void> {\r\n  const res = await fetch(`${API_BASE}/api/chats/${sessionId}/end`, {\r\n    method: \"PATCH\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n  });\r\n  if (!res.ok) {\r\n    const body = await res.json().catch(() => ({}));\r\n    throw new Error(body.error || \"Failed to end chat session\");\r\n  }\r\n}\r\n"],"names":["fetchChatSessions","res","API_BASE","body","fetchChatSession","id","endChatSession","sessionId"],"mappings":"wCAUA,eAAsBA,GAA4C,CAChE,MAAMC,EAAM,MAAM,MAAM,GAAGC,CAAQ,aAAc,CAC/C,OAAQ,MACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,YAAa,SAAA,CACd,EACG,GAAA,CAACD,EAAI,GAAI,CACL,MAAAE,EAAO,MAAMF,EAAI,OAAO,MAAM,KAAO,CAAA,EAAG,EAC9C,MAAM,IAAI,MAAME,EAAK,OAAS,+BAA+B,CAAA,CAE/D,OAAOF,EAAI,KAAK,CAClB,CAEA,eAAsBG,EACpBC,EACsB,CACtB,MAAMJ,EAAM,MAAM,MAAM,GAAGC,CAAQ,cAAcG,CAAE,GAAI,CACrD,OAAQ,MACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,YAAa,SAAA,CACd,EACG,GAAA,CAACJ,EAAI,GAAI,CACL,MAAAE,EAAO,MAAMF,EAAI,OAAO,MAAM,KAAO,CAAA,EAAG,EAC9C,MAAM,IAAI,MAAME,EAAK,OAAS,8BAA8B,CAAA,CAE9D,OAAOF,EAAI,KAAK,CAClB,CAEA,eAAsBK,EAAeC,EAAkC,CACrE,MAAMN,EAAM,MAAM,MAAM,GAAGC,CAAQ,cAAcK,CAAS,OAAQ,CAChE,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,YAAa,SAAA,CACd,EACG,GAAA,CAACN,EAAI,GAAI,CACL,MAAAE,EAAO,MAAMF,EAAI,OAAO,MAAM,KAAO,CAAA,EAAG,EAC9C,MAAM,IAAI,MAAME,EAAK,OAAS,4BAA4B,CAAA,CAE9D"}