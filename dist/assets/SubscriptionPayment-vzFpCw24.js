import{u as d,r as l,j as e,L as p,b as h,e as y}from"./index-AnWCcf8t.js";import{E as b,s as f,u as j,c as g,e as N,P as v}from"./stripeClient-DmXsUCEx.js";const C=()=>{const s=j(),r=d(),[n,o]=l.useState(null);return l.useEffect(()=>{s&&(async()=>{try{const a=await g({country:"US",currency:"usd",total:{label:"DentGo Plus Subscription",amount:2500},requestPayerName:!0,requestPayerEmail:!0});a.on("paymentmethod",async t=>{try{const c="",i=t.paymentMethod.id,{clientSecret:x}=await N(c,i),{error:m,paymentIntent:u}=await s.confirmCardPayment(x,{payment_method:i});if(m||!u){t.complete("fail"),console.error("Subscription payment error:",m);return}t.complete("success"),r("/confirm-payment-pin")}catch(c){console.error("Error creating subscription:",c),t.complete("fail")}}),a.canMakePayment().then(t=>{t&&o(a)})}catch(a){console.error("PaymentRequest init error:",a)}})()},[s,r]),n?e.jsx("div",{className:"w-full mb-4",children:e.jsx(v,{options:{paymentRequest:n,style:{paymentRequestButton:{type:"buy",theme:"dark",height:"48px"}}}})}):null},k=()=>{const s=d(),[r,n]=l.useState(!0),o=()=>{s(-1)},a=()=>{s("/confirm-payment-pin")};return l.useEffect(()=>{const t=setTimeout(()=>n(!1),500);return()=>clearTimeout(t)},[]),r?e.jsx(p,{}):e.jsx("div",{className:"bg-gray-100 min-h-screen pb-4 flex flex-col",children:e.jsxs(b,{stripe:f,children:[e.jsx("div",{className:"bg-blue-800 pt-4 pb-8",children:e.jsxs("div",{className:"mx-auto max-w-lg px-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[e.jsx("button",{type:"button",onClick:o,className:"p-0","aria-label":"Go Back",children:e.jsx("img",{className:"w-6 h-6",src:h,alt:"Go Back"})}),e.jsx("h1",{className:"text-white text-lg font-medium",children:"DentGo Plus Subscription"})]}),e.jsxs("div",{className:"bg-white pt-4 px-4 flex flex-col items-stretch mt-5 rounded-t-3xl flex-1 overflow-y-auto",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{className:"w-24 h-auto",src:y,alt:"logo"})}),e.jsx("h2",{className:"text-center text-xl font-semibold text-gray-800 leading-7 mb-2",children:"DentGo Plus Subscription"}),e.jsx("p",{className:"text-center text-sm text-gray-500 mb-4",children:"Subscription Due at 15 Dec 2024"}),e.jsx("h2",{className:"text-center text-5xl font-medium text-gray-800 leading-none mb-4",children:"$25.00"}),e.jsx("p",{className:"text-center text-sm text-gray-500 mb-4",children:"Choose a card or bank for payout"}),e.jsx(C,{}),e.jsx("p",{className:"text-center text-sm text-gray-500 mb-4",children:"Or select a saved payment method"}),e.jsxs("div",{className:"flex items-center justify-between w-full mb-4",children:[e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx("span",{className:"border border-gray-200 p-2 rounded w-12 h-8 flex items-center justify-center",children:e.jsxs("svg",{width:"31",height:"19",viewBox:"0 0 31 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.2291 29.1046C27.2289 28.1044 26.667 26.7478 26.667 25.3333C26.667 23.9188 27.2289 22.5623 28.2291 21.5621C29.2293 20.5619 30.5858 20 32.0003 20C33.4148 20 34.7714 20.5619 35.7716 21.5621C36.7718 22.5623 37.3337 23.9188 37.3337 25.3333C37.3337 26.7478 36.7718 28.1044 35.7716 29.1046C34.7714 30.1048 33.4148 30.6667 32.0003 30.6667C30.5858 30.6667 29.2293 30.1048 28.2291 29.1046Z",fill:"#ED0006"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0957 16.4389C17.0557 14.8004 18.2985 12.3624 18.2985 9.63996C18.2985 6.91754 17.0557 4.47955 15.0957 2.84102C16.6878 1.51009 18.753 0.706627 21.0098 0.706627C26.0449 0.706627 30.1267 4.70622 30.1267 9.63996C30.1267 14.5737 26.0449 18.5733 21.0098 18.5733C18.753 18.5733 16.6878 17.7698 15.0957 16.4389Z",fill:"#F9A000"})]})}),e.jsxs("div",{className:"pl-4",children:[e.jsx("div",{className:"text-gray-800 text-base font-semibold leading-6",children:"Master Card"}),e.jsx("div",{className:"text-gray-500 text-sm font-medium leading-5",children:"Card Number **** 7887"})]})]}),e.jsx("button",{onClick:()=>s("/select-payment-method"),className:"text-gray-800 text-2xl","aria-label":"Choose saved payment method",children:e.jsx("i",{className:"ri-arrow-down-s-line"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Promo Code"}),e.jsx("div",{children:e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:"number",id:"promo_code",className:"w-full h-16 bg-gray-200 border-2 border-gray-200 rounded-xl px-4 pt-4 text-lg text-gray-800 focus:border-blue outline-none",autoComplete:"off",required:!0}),e.jsx("label",{htmlFor:"promo_code",className:"absolute left-4 top-1/2 -translate-y-1/2 text-base text-gray-500 transition-all",children:"Enter Code Here"})]})})]}),e.jsx("div",{className:"mt-auto"})]})]})}),e.jsx("div",{className:"px-4 fixed bottom-4 inset-x-0",children:e.jsx("button",{type:"button",className:"w-full bg-blue-800 text-white text-lg font-medium py-4 rounded",onClick:a,children:"Proceed to Checkout"})})]})})};export{k as default};
//# sourceMappingURL=SubscriptionPayment-vzFpCw24.js.map
