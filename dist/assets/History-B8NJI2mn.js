import{r as s,j as e,L as m,c as h}from"./index-WC5m9pr2.js";import{a as f}from"./chats-CF8Mcubr.js";const u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAETSURBVHgB3VRtDYMwEL1MAQ6GBKQwBzhYHTAH4IQ5qATmoJkCJNzacA23rdeWLtkPXnIh4T5f+3oAhwYiVtaUtcmawQ2G/nVQCpvcWlswDbO7kU0YWAFNLGrmb1xRfGfV5xbvKcFNrzLiFW5Mh1Rwx4o3kAli5Ju0sUBPWUX8BmQmfrgKItObxAAxvxYHJNkh/iA9xuIecs7kzD77QI1aPAWvtUSB6BGF6pzgX2AKOkMhSK4Os//HGTzoe4Fy+Pt7QqC7V4CWsjNkakQl4ro5F1HHkHxoV1FBLKhlr7F0VXSp4JE1yVl2V1b8BjlwgbjB4LpGGuav6c40ixthD/B730tw07dQCmrk9tT8wWoiFhUcGi+tgUV1/9VZ4wAAAABJRU5ErkJggg==";function b(){const[c,x]=s.useState(!0),[r,o]=s.useState([]),[l,A]=s.useState(null);if(s.useEffect(()=>{f().then(t=>o(t)).catch(t=>A(t.message||"Failed to load history")).finally(()=>x(!1))},[]),c)return e.jsx(m,{fullscreen:!0});if(l)return e.jsx("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen pb-4 flex flex-col",children:e.jsx("div",{className:"mx-auto max-w-3xl px-4",children:e.jsxs("h2",{className:"text-red-500 text-base font-medium mt-10",children:["Error: ",l]})})});const d=(t,g)=>t.map(a=>e.jsxs(h,{to:`/dentgo-chat?sessionId=${a.id}`,className:"flex items-center mb-4",children:[e.jsx("img",{src:u,alt:"Chat icon",className:"w-6 h-6 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-800 dark:text-gray-200 text-base font-bold leading-6 pb-1",children:a.title??`Chat #${a.id}`}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-5",children:g?`Ended ${new Date(a.endedAt).toLocaleString()}`:`Started ${new Date(a.startedAt).toLocaleString()}`})]})]},a.id)),n=r.filter(t=>!t.endedAt),i=r.filter(t=>!!t.endedAt);return e.jsx("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen pb-4 flex flex-col",children:e.jsx("div",{className:"mx-auto max-w-3xl px-4 w-full",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 mt-5 rounded-t-3xl px-4 flex flex-col h-[calc(100vh-90px)] overflow-y-auto w-full",children:e.jsxs("div",{className:"pt-4",children:[e.jsx("h2",{className:"text-gray-800 dark:text-gray-100 text-xl font-semibold leading-7",children:"Active Chats"}),n.length>0?d(n,!1):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-5 mb-4",children:"No active chats."}),e.jsx("h2",{className:"text-gray-800 dark:text-gray-100 text-xl font-semibold leading-7 pt-6",children:"Ended Chats"}),i.length>0?d(i,!0):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-5",children:"No ended chats."})]})})})})}export{b as default};
//# sourceMappingURL=History-B8NJI2mn.js.map
