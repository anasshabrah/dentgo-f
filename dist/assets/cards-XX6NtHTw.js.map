{"version":3,"file":"cards-XX6NtHTw.js","sources":["../../src/api/cards.ts"],"sourcesContent":["export interface CardData {\r\n  id: number;\r\n  network: string | null;\r\n  last4: string;\r\n  isActive: boolean;\r\n}\r\n\r\nimport { API_BASE } from \"../config\";\r\n\r\nexport async function fetchCards(): Promise<CardData[]> {\r\n  const res = await fetch(`${API_BASE}/api/payments/cards`, {\r\n    credentials: \"include\",\r\n  });\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed to fetch cards\");\r\n  }\r\n  const data = (await res.json()) as { cards: CardData[] };\r\n  return data.cards;\r\n}\r\n\r\nexport async function createCard(payload: {\r\n  paymentMethodId: string;\r\n  nickName: string | null;\r\n}): Promise<void> {\r\n  const res = await fetch(`${API_BASE}/api/payments/cards`, {\r\n    method: \"POST\",\r\n    credentials: \"include\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  });\r\n  if (!res.ok) {\r\n    const body = await res.json().catch(() => ({}));\r\n    throw new Error(body.error || \"Failed to create card\");\r\n  }\r\n}\r\n"],"names":["fetchCards","res","API_BASE","createCard","payload","body"],"mappings":"wCASA,eAAsBA,GAAkC,CACtD,MAAMC,EAAM,MAAM,MAAM,GAAGC,CAAQ,sBAAuB,CACxD,YAAa,SAAA,CACd,EACG,GAAA,CAACD,EAAI,GACD,MAAA,IAAI,MAAM,uBAAuB,EAGzC,OADc,MAAMA,EAAI,KAAK,GACjB,KACd,CAEA,eAAsBE,EAAWC,EAGf,CAChB,MAAMH,EAAM,MAAM,MAAM,GAAGC,CAAQ,sBAAuB,CACxD,OAAQ,OACR,YAAa,UACb,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,UAAUE,CAAO,CAAA,CAC7B,EACG,GAAA,CAACH,EAAI,GAAI,CACL,MAAAI,EAAO,MAAMJ,EAAI,OAAO,MAAM,KAAO,CAAA,EAAG,EAC9C,MAAM,IAAI,MAAMI,EAAK,OAAS,uBAAuB,CAAA,CAEzD"}