{"version":3,"file":"Delete-_ZS_qxQD.js","sources":["../../src/pages/Delete.tsx"],"sourcesContent":["// src/pages/Delete.tsx\r\nimport React, { useState } from \"react\";\r\nimport Loader from \"@components/ui/Loader\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { deleteAccount } from \"../api/auth\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nconst Delete: React.FC = () => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const navigate = useNavigate();\r\n  const { logout } = useAuth();\r\n\r\n  const handleDelete = async () => {\r\n    if (!window.confirm(\"This will permanently delete your account. Proceed?\")) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      await deleteAccount();\r\n      await logout();\r\n      navigate(\"/login\", { replace: true });\r\n    } catch (err) {\r\n      console.error(\"Delete failed\", err);\r\n      alert(\"Could not delete account. Please try again.\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loader fullscreen />}\r\n      <div className=\"bg-white dark:bg-gray-900 min-h-screen pb-4 flex flex-col\">\r\n        <div className=\"mx-auto max-w-lg px-4\">\r\n          <div className=\"bg-gray-100 dark:bg-gray-800 mt-5 rounded-t-3xl pt-4 px-4 flex flex-col items-stretch overflow-y-auto\">\r\n            <h2 className=\"text-gray-900 dark:text-gray-100 text-lg font-semibold leading-6 pt-6\">\r\n              Confirm Deletion of Your Dentgo Account\r\n            </h2>\r\n\r\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm font-medium leading-5 pb-6\">\r\n              Weâ€™re sorry to see you go! All your data will be permanently removed.\r\n            </p>\r\n\r\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm font-medium leading-5 pb-6\">\r\n              This includes your chats, cards, and any other data associated with your account.\r\n            </p>\r\n\r\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm font-medium leading-5 pb-6\">\r\n              Confirm below to delete your account and all associated data forever.\r\n            </p>\r\n\r\n            <div className=\"flex flex-col items-center justify-center pb-6\">\r\n              <button\r\n                onClick={handleDelete}\r\n                className=\"w-full py-4 bg-red-600 dark:bg-red-700 text-white text-lg font-medium rounded-xl flex justify-center items-center hover:bg-red-700 dark:hover:bg-red-600 transition\"\r\n              >\r\n                Delete Account\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Delete;\r\n"],"names":["Delete","loading","setLoading","useState","navigate","useNavigate","logout","useAuth","handleDelete","deleteAccount","err","jsxs","Fragment","jsx","Loader"],"mappings":"2EAOA,MAAMA,EAAmB,IAAM,CAC7B,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAkB,EAAK,EAC/CC,EAAWC,EAAY,EACvB,CAAE,OAAAC,CAAO,EAAIC,EAAQ,EAErBC,EAAe,SAAY,CAC/B,GAAK,OAAO,QAAQ,qDAAqD,EAGzE,CAAAN,EAAW,EAAI,EACX,GAAA,CACF,MAAMO,EAAc,EACpB,MAAMH,EAAO,EACbF,EAAS,SAAU,CAAE,QAAS,EAAA,CAAM,QAC7BM,EAAK,CACJ,QAAA,MAAM,gBAAiBA,CAAG,EAClC,MAAM,6CAA6C,EACnDR,EAAW,EAAK,CAAA,EAEpB,EAEA,OAEKS,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAWX,GAAAY,EAAAA,IAACC,EAAO,CAAA,WAAU,EAAC,CAAA,EAC/BD,EAAA,IAAC,MAAI,CAAA,UAAU,4DACb,SAAAA,EAAA,IAAC,MAAI,CAAA,UAAU,wBACb,SAAAF,OAAC,MAAI,CAAA,UAAU,wGACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,wEAAwE,SAEtF,0CAAA,EAECA,EAAA,IAAA,IAAA,CAAE,UAAU,sEAAsE,SAEnF,wEAAA,EAECA,EAAA,IAAA,IAAA,CAAE,UAAU,sEAAsE,SAEnF,oFAAA,EAECA,EAAA,IAAA,IAAA,CAAE,UAAU,sEAAsE,SAEnF,wEAAA,EAEAA,EAAAA,IAAC,MAAI,CAAA,UAAU,iDACb,SAAAA,EAAA,IAAC,SAAA,CACC,QAASL,EACT,UAAU,sKACX,SAAA,gBAAA,CAAA,CAGH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EACF,CAEJ"}